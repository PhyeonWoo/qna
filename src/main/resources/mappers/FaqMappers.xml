<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.task.model.Faq.dao.FaqDAO">

    <insert id="insertFaq">
        INSERT INTO faq (question,answer,created_by,is_published,sort_order)
        VALUES (#{question},#{answer},#{created_by},#{published},#{sort_order})
    </insert>

    <select id="findAll" resultType="com.task.model.Faq.vo.FaqVO">
        SELECT  faq_id, question, answer, sort_order, is_published AS published, created_by, created_at, updated_at FROM faq ORDER BY sort_order ASC
    </select>

    <select id="findById" resultType="com.task.model.Faq.vo.FaqVO">
        SELECT faq_id, question, answer, sort_order, is_published AS published, created_by, created_at, updated_at
        FROM faq WHERE faq_id = #{faq_id}
    </select>

    <select id="findPublished" resultType="com.task.model.Faq.vo.FaqVO">
        SELECT
        faq_id,question, answer, sort_order, is_published AS published, created_by, created_at, updated_at
        FROM faq WHERE is_published = true
    </select>

    <update id="updateFaq" parameterType="com.task.model.Faq.vo.FaqVO">
        UPDATE faq SET
        question=#{question},
        answer=#{answer},
        is_published = #{published},
        created_by = #{created_by},
        updated_at = NOW()
        WHERE faq_id = #{faq_id}
    </update>


</mapper>